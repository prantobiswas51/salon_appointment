import{u as x,r as n,j as e,H as u,a as h}from"./app-DrS9QgZV.js";import{A as p}from"./app-layout-7VJehgU-.js";import{F as b}from"./file-pen-C96tuWH2.js";import"./app-CQF956p7.js";import"./app-logo-icon-Ct6FUKA3.js";import"./index-BdD456Wj.js";import"./index-Dk68SLl-.js";const j=[{title:"Whatsapp API",href:"/Whatsapp"}];function I(){const{whatsapps:d}=x().props,[r,c]=n.useState(null),[i,l]=n.useState(!1),[a,t]=n.useState({message:"",token:"",number_id:""}),m=s=>{c(s),t({message:s.message,token:s.token,number_id:s.number_id}),l(!0)},o=()=>{r&&h.put(route("whatsapp.update",r.id),a,{onSuccess:()=>l(!1)})};return e.jsxs(p,{breadcrumbs:j,children:[e.jsx(u,{title:"Whatsapp API"}),e.jsxs("div",{className:"p-2 m-4",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Setup Whatsapp API"}),e.jsxs("table",{className:"min-w-full bg-white rounded shadow",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 text-left",children:[e.jsx("th",{className:"p-2",children:"ID"}),e.jsx("th",{className:"p-2",children:"Message"}),e.jsx("th",{className:"p-2",children:"Token"}),e.jsx("th",{className:"p-2",children:"Number ID"}),e.jsx("th",{className:"p-2",children:"Action"})]})}),e.jsx("tbody",{children:d.map(s=>e.jsxs("tr",{className:"border-b",children:[e.jsx("td",{className:"p-2",children:s.id}),e.jsx("td",{className:"p-2 truncate max-w-xs",children:s.message}),e.jsx("td",{className:"p-2 truncate max-w-xs",children:s.token}),e.jsx("td",{className:"p-2",children:s.number_id}),e.jsx("td",{className:"p-2",children:e.jsxs("button",{onClick:()=>m(s),className:"p-2 bg-blue-500 text-white rounded hover:bg-blue-600 flex items-center gap-1",children:[e.jsx(b,{size:16})," Edit"]})})]},s.id))})]}),i&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-200/50 bg-opacity-50",children:e.jsxs("div",{className:"bg-white p-6 rounded shadow w-xl",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Edit Whatsapp API"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium",children:"Message"}),e.jsx("textarea",{value:a.message,onChange:s=>t({...a,message:s.target.value}),className:"w-full border p-2 rounded"}),e.jsx("p",{className:"text-gray-500/50",children:e.jsxs("i",{children:["'write the message as usual, just replace the name section with ","{$name}"," and time with ","{$time}",".'"]})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium",children:"Token"}),e.jsx("textarea",{value:a.token,onChange:s=>t({...a,token:s.target.value}),className:"w-full border p-2 rounded"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium",children:"Number ID"}),e.jsx("input",{type:"text",value:a.number_id,onChange:s=>t({...a,number_id:s.target.value}),className:"w-full border p-2 rounded"})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 bg-gray-300 rounded",children:"Cancel"}),e.jsx("button",{onClick:o,className:"px-4 py-2 bg-blue-500 text-white rounded",children:"Save"})]})]})})]})]})}export{I as default};
