import{r as c,u as S,a as M,j as e,H as T,b as D}from"./app-CsyKjVTA.js";import{A}from"./app-layout-6DXmda1M.js";import{R as E,F as L,i as F,a as O,L as $}from"./index-BD0Xma_p.js";import{a as x}from"./app-logo-icon-BIeLauD1.js";import"./app-CA1Vx3ps.js";import"./index-DoBWDZdg.js";import"./index-Dy0ihhXS.js";import"./transition-C1NVXVCx.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],I=x("CalendarDays",H);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],o=x("Timer",R),z=[{title:"Dashboard",href:"/dashboard"}];function U({appointments:h,inProgress:n,nextAppointment:r,countToday:u,countWeek:p,countMonth:b,calendarEvents:j}){const[g,B]=c.useState(j),[v,i]=c.useState(!1),[d,m]=c.useState("new"),N=()=>{D.get(route("sync"))};S().props?.flash;const{data:l,setData:t,post:y,processing:f,errors:a,reset:w}=M({client_number:"",email:"",new_client_name:"",new_client_phone:"",service:"",start_time:"",duration:"",status:"Scheduled",notes:""}),_=s=>s.toLocaleString("sv-SE",{timeZone:"Europe/Rome"}).replace(" ","T").slice(0,16),k=s=>{t("start_time",_(s.start)),i(!0)},C=s=>{s.preventDefault(),y("/appointment/store",{onSuccess:()=>{alert("Appointment saved!"),i(!1),w()}})};return e.jsxs(A,{breadcrumbs:z,children:[e.jsx(T,{title:"Dashboard"}),e.jsxs("div",{className:"flex flex-col md:grid md:grid-cols-2 dark:bg-gray-900 p-2 rounded-lg",children:[n&&e.jsxs("div",{className:"w-auto border p-2 bg-sky-200/30 border-sky-500 m-2 rounded-md shadow-sm",children:[e.jsxs("h2",{className:"text-xl font-bold flex",children:[e.jsx(o,{className:"mr-2"}),"Appointment in Progress"]}),e.jsx("h3",{className:"font-semibold flex",children:n.client_name}),e.jsx("h3",{children:n.service}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h3",{children:["Time : ",n.start_time]}),e.jsx("span",{className:"bg-green-200 px-2 p-1 rounded-2xl text-sm",children:"In progress"})]})]}),r&&e.jsxs("div",{className:"w-auto border p-2 bg-amber-200/30 border-amber-500 m-2 rounded-md shadow-sm",children:[e.jsxs("h2",{className:"text-xl font-bold flex",children:[e.jsx(o,{className:"mr-2"}),"Next Appointment"]}),e.jsx("h3",{className:"font-semibold flex",children:r.client_name}),e.jsx("h3",{children:r.service}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h3",{children:["Time : ",r.start_time]}),e.jsx("span",{className:" px-2 p-1 rounded-2xl text-sm",children:"Next"})]})]})]}),e.jsx("h2",{className:"text-xl font-bold flex mx-2 mt-6",children:"Today's Agenda"}),e.jsxs("div",{className:"w-auto px-4 md:grid md:grid-cols-3 gap-3 dark:bg-gray-900 p-2 rounded-lg",children:[e.jsxs("div",{className:"p-2 my-2 rounded-md bg-pink-300/60 border border-pink-500 shadow-sm",children:[e.jsx("div",{className:"font-bold",children:"Today"}),e.jsxs("span",{className:"text-3xl flex",children:[u," ",e.jsx("div",{className:"text-sm ml-2",children:"appointments"})]})]}),e.jsxs("div",{className:"p-2 my-2 rounded-md bg-pink-300/60 border border-pink-500 shadow-sm",children:[e.jsx("div",{className:"font-bold",children:"Week"}),e.jsxs("span",{className:"text-3xl flex",children:[p," ",e.jsx("div",{className:"text-sm ml-2",children:"appointments"})]})]}),e.jsxs("div",{className:"p-2 my-2 rounded-md bg-pink-300/60 border border-pink-500 shadow-sm",children:[e.jsx("div",{className:"font-bold",children:"Month"}),e.jsxs("span",{className:"text-3xl flex",children:[b," ",e.jsx("div",{className:"text-sm ml-2",children:"appointments"})]})]})]}),e.jsxs("h2",{className:"text-xl font-bold mx-2 mt-6 flex",children:[e.jsx(I,{className:"mr-2"}),"Today's Agenda"]}),e.jsx("div",{className:"w-auto mx-2 rounded-md",children:h.map(s=>e.jsxs("div",{className:"p-2 my-2 rounded-md border-green-600 border shadow-sm md:flex lg:max-w-[50%] md:justify-between md:items-center",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{className:"font-bold text-gray-600 flex items-center",children:[e.jsx(o,{className:"mr-1"}),s.start_time]}),e.jsx("span",{className:`p-2 py-1 rounded-2xl md:ml-4 ${s.status==="completed"?"bg-green-600 text-white":s.status==="in_progress"?"bg-blue-400/60 text-black":"bg-pink-400/60 text-black"}`,children:s.status})]}),e.jsx("div",{className:"font-bold ml-2",children:s.client_name}),e.jsx("div",{className:"ml-2",children:s.service})]},s.id))}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Calendar"}),e.jsxs("button",{onClick:N,className:"px-3 py-1 bg-blue-500 flex items-center text-white rounded hover:bg-blue-600",children:[e.jsx(E,{className:"mr-2 w-4"})," Sync"]})]}),e.jsx(L,{plugins:[F,O],initialView:"timeGridWeek",selectable:!0,selectMirror:!0,selectOverlap:!1,events:g,select:k,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",height:"auto",selectLongPressDelay:200,slotLabelFormat:{hour:"2-digit",minute:"2-digit",hour12:!1},eventTimeFormat:{hour:"2-digit",minute:"2-digit",hour12:!1}})]}),e.jsx($,{open:v,onClose:()=>i(!1),className:"relative z-50 p-6 dialog",children:e.jsx("div",{className:"fixed inset-0 z-[9999] bg-gray-700/20 flex justify-center items-center p-4",children:e.jsxs("div",{className:`bg-sky-100 dark:bg-gray-800 dark:border-gray-100 w-full max-w-[95%] sm:max-w-[30rem] rounded-lg shadow-lg 
                  max-h-[90vh] overflow-y-auto p-6`,children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Edit Appointment"}),e.jsxs("div",{className:"flex space-x-4 mb-6",children:[e.jsx("button",{type:"button",onClick:()=>{m("new"),t({client_number:"",email:"",new_client_name:"",new_client_phone:"",service:"",duration:"",start_time:l.start_time,status:"Scheduled",notes:""})},className:`px-4 py-2 rounded ${d==="new"?"bg-pink-600 text-white":"bg-gray-200 text-gray-700"}`,children:"New Client"}),e.jsx("button",{type:"button",onClick:()=>{m("existing"),t({client_number:"",email:"",new_client_name:"",new_client_phone:"",service:"",duration:"",start_time:l.start_time,status:"Scheduled",notes:""})},className:`px-4 py-2 rounded ${d==="existing"?"bg-pink-600 text-white":"bg-gray-200 text-gray-700"}`,children:"Existing Client"})]}),e.jsxs("form",{onSubmit:C,className:"space-y-4",children:[d==="existing"?e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Client Number"}),e.jsx("input",{type:"text",placeholder:"e.g. +1 848 648 8448",className:"w-full border p-2 rounded",value:l.client_number,onChange:s=>t("client_number",s.target.value)}),a.client_number&&e.jsx("p",{className:"text-red-500",children:a.client_number})]}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Client Name"}),e.jsx("input",{type:"text",className:"w-full border p-2 rounded",placeholder:"e.g. John",value:l.new_client_name,onChange:s=>t("new_client_name",s.target.value)}),a.new_client_name&&e.jsx("p",{className:"text-red-500",children:a.new_client_name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Client Phone"}),e.jsx("input",{type:"tel",className:"w-full border p-2 rounded",placeholder:"e.g. +2 485 485 744",value:l.new_client_phone,onChange:s=>t("new_client_phone",s.target.value)}),a.new_client_phone&&e.jsx("p",{className:"text-red-500",children:a.new_client_phone})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block mb-1",children:"Email"}),e.jsx("input",{type:"email",className:"w-full border p-2 rounded",placeholder:"clientmail@domain.com",value:l.email,onChange:s=>t("email",s.target.value)}),a.email&&e.jsx("p",{className:"text-red-500",children:a.email})]})]}),e.jsxs("div",{className:"mb-4 grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Service"}),e.jsxs("select",{value:l.service,onChange:s=>t("service",s.target.value),className:"w-full border p-2 rounded dark:bg-gray-900",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"Hair Cut",children:"Hair Cut"}),e.jsx("option",{value:"Beard Shaping",children:"Beard Shaping"}),e.jsx("option",{value:"Other Services",children:"Other Services"})]}),a.service&&e.jsx("p",{className:"text-red-500",children:a.service})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Duration (Minutes)"}),e.jsx("input",{type:"number",className:"w-full border p-2 rounded",placeholder:"30",value:l.duration,onChange:s=>t("duration",s.target.value)}),a.duration&&e.jsx("p",{className:"text-red-500",children:a.duration})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Appointment Time"}),e.jsx("input",{type:"datetime-local",className:"w-full border p-2 rounded",value:l.start_time,onChange:s=>t("start_time",s.target.value)}),a.start_time&&e.jsx("p",{className:"text-red-500",children:a.start_time})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Status"}),e.jsxs("select",{value:l.status,onChange:s=>t("status",s.target.value),className:"w-full border p-2 rounded dark:bg-gray-900",children:[e.jsx("option",{value:"Scheduled",children:"Scheduled"}),e.jsx("option",{value:"Confirmed",children:"Confirmed"}),e.jsx("option",{value:"Canceled",children:"Canceled"})]}),a.status&&e.jsx("p",{className:"text-red-500",children:a.status})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Notes"}),e.jsx("textarea",{className:"w-full border p-2 rounded",value:l.notes,onChange:s=>t("notes",s.target.value)})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{type:"button",className:"px-4 py-2 bg-gray-300 rounded hover:cursor-pointer dark:text-gray-900",onClick:()=>i(!1),children:"Cancel"}),e.jsx("button",{type:"submit",disabled:f,className:"px-4 py-2 bg-pink-600 text-white rounded hover:cursor-pointer",children:"Save Appointment"})]})]})]})})})]})}export{U as default};
